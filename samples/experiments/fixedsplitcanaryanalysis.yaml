apiVersion: iter8.tools/v1alpha3
kind: Experiment
metadata:
  name: sklearn-iris-experiment-13
spec:
  target: mymodelnamespace/sklearn-iris # namespaced name of the inference service
  strategy:
    experimentType: fixed_split_canary_analysis
    handlers:
      finish: none # default
      candidateFailures: none # other option is rollback
    weights: # all weights are in percentages
      maxExperimentationPercent: 100 # default
      maxIncrementPercent: 100 # default
      split: 
        baseline: 
  criteria:
    indicators:
    - 95th_percentile_tail_latency
    - container_throttled_seconds_total
    objectives:
    - metric: mean_latency
      upperLimit: 200
    - metric: error_rate
      upperLimit: 0.01
      # rollback_on_failure: true # default
  duration:
    interval: 20s
    maxIterations: 8